html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(http-equiv='X-UA-Compatible', content='ie=edge')
    link(rel='stylesheet', href='css/styles.css')
    link(rel='stylesheet', href='css/libs/bootstrap.min.css')
    link(href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400,700" rel="stylesheet") 
    title Rompecabeza UX

    
  body
    - var state1 = 'active'
    include ../components/header
    .main-container
      h1 Guía de validaciones de formularios en Jquery
      br
      h3 Input texto
      .highlights
        pre.
          function soloLetras(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toLowerCase();
            letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
            especiales = "8-37-39-46";

            tecla_especial = false
            for (var i in especiales) {
                if (key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }

            if (letras.indexOf(tecla) == -1 && !tecla_especial) {
                return false;
            }
          }
      br
      h3 Input numérico
      .highlights
        pre.
          function validaNUM(e) {
              tecla = (document.all) ? e.keyCode : e.which;

              //Tecla de retroceso para borrar, siempre la permite
              if (tecla == 8) {
                  return true;
              }

              // Patron de entrada, en este caso solo acepta numeros
              patron = /[0-9]/;
              tecla_final = String.fromCharCode(tecla);
              return patron.test(tecla_final);
          }
      br
      h3 Input rango (min/max)
      .highlights
        pre.
          $('input#nom_form').attr('maxLength', '30').keypress(limitMe);
          function limitMe(e) {
              if (e.keyCode == 8) { return true; }
              return this.value.length < $(this).attr("maxLength");
          }
      br
      h3 Input rut
      .highlights
        pre.
          function checkRut(rut) {
              // Despejar Puntos
              var valor = rut.value.replace('.','');
              // Despejar Guión
              valor = valor.replace('-','');
              
              
              // Aislar Cuerpo y Dígito Verificador
              cuerpo = valor.slice(0,-1);
              dv = valor.slice(-1).toUpperCase();
              
              // Formatear RUN
              rut.value = cuerpo + '-'+ dv
              
              // Si no cumple con el mínimo ej. (n.nnn.nnn)
              if(cuerpo.length < 7) { 
                  return false;
              }

              // Calcular Dígito Verificador
              suma = 0;
              multiplo = 2;
              
              // Para cada dígito del Cuerpo
              for(i=1;i<=cuerpo.length;i++) {
              
                  // Obtener su Producto con el Múltiplo Correspondiente
                  index = multiplo * valor.charAt(cuerpo.length - i);
                  
                  // Sumar al Contador General
                  suma = suma + index;
                  
                  // Consolidar Múltiplo dentro del rango [2,7]
                  if(multiplo < 7) { multiplo = multiplo + 1; } else { multiplo = 2; }
            
              }
              
              // Calcular Dígito Verificador en base al Módulo 11
              dvEsperado = 11 - (suma % 11);
              
              // Casos Especiales (0 y K)
              dv = (dv == 'K')?10:dv;
              dv = (dv == 0)?11:dv;
              
              // Validar que el Cuerpo coincide con su Dígito Verificador
              if(dvEsperado != dv) {  return false; }
              
              // Si todo sale bien, eliminar errores (decretar que es válido)
          }
      br
      h3 Input formato moneda
      .highlights
        pre.
          function format(input) {
            var num = input.value.replace(/\./g, '');
            if (!isNaN(num)) {
            num = num.toString().split('').reverse().join('').replace(/(?=\d*\.?)(\d{3})/g, '$1.');
            num = num.split('').reverse().join('').replace(/^[\.]/, '');
            input.value = num;
            } else {
            alert('Solo se permiten numeros');
            input.value = input.value.replace(/[^\d\.]*/g, '');
            }
          }
      br
      h3 Input email
      .highlights
        pre.
          function validar()
          {
              var contenido=document.getElementById('mail').value;
              var conte=contenido.split("@");
              if(!conte[1] || conte[0]=="")
              {
                alert('no es correo valido(1)');
              }
              else
              {
                var cont1=conte[0].split(".");
                var cont2=conte[1].split(".");
                if(!cont1[1])
                {
                  alert('no es correo valido(2)');
                }
                else if(!cont2[1])
                {
                  alert('no es correo valido(3)');
                }
              }
          }
      br
      h3 Input obligatorio
      .highlights
        pre.
          $(".date1").keypress(function() {
            if ($(".date1") == '') {
                $('.date1').addClass("rut-error");
            } else {
                $(".date1").removeClass("rut-error");
            }
          });
      br
      //- h3 Exito y error en los campos
      //- .highlights
      //-   pre.
      //- br
      h3 Boton activo y deshabilitado
      .highlights
        p
          pre.
            $(".item-pass &gt; :input").keyup(function() {
              var $emptyFields = $('.item-pass &gt; :input').filter(function() {
                return $.trim(this.value) === "";
              });

              if (!$emptyFields.length) {
                $('.btn.redDisable').removeClass('redDisable').addClass('red');
                $('.btn.whiteDisable').removeClass('whiteDisable').addClass('white');
              }
            });
          
      script(src="js/libs/jquery-3.3.1.min.js")
      script(src="js/libs/bootstrap.min.js")
      script(src="js/libs/highlight.js")
      script(src="js/funciones.js")
 


   
    

